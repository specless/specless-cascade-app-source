{"version":3,"sources":["modules/ui.js"],"names":[],"mappings":";;;;;;AAAA,KAAM,YAAY,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AACvC,KAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAC7B,KAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;;AAIpB,KAAI,EAAE,GAAG,SAAL,EAAE,GAAc;;AAE1B,MAAI,IAAI,GAAG,IAAI,CAAC;AAChB,MAAI,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;AACjB,MAAI,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC;;AAErB,MAAI,CAAC,GAAG,GAAG;AACV,gBAAa,EAAG,CAAC,CAAC,eAAe,CAAC;AAClC,eAAY,EAAG,CAAC,CAAC,cAAc,CAAC;AAChC,eAAY,EAAG,CAAC,CAAC,cAAc,CAAC;AAChC,cAAW,EAAG,CAAC,CAAC,aAAa,CAAC;AAC9B,qBAAkB,EAAG,CAAC,CAAC,oBAAoB,CAAC;AAC5C,kBAAe,EAAG,CAAC,CAAC,iBAAiB,CAAC;AACtC,cAAW,EAAG,CAAC,CAAC,aAAa,CAAC;AAC9B,iBAAc,EAAG,CAAC,CAAC,gBAAgB,CAAC;AACpC,kBAAe,EAAG,CAAC,CAAC,iBAAiB,CAAC;AACtC,eAAY,EAAG,CAAC,CAAC,cAAc,CAAC;AAChC,iBAAc,EAAG,CAAC,CAAC,gBAAgB,CAAC;AACpC,uBAAoB,EAAG,CAAC,CAAC,sBAAsB,CAAC;AAChD,kBAAe,EAAG,CAAC,CAAC,iBAAiB,CAAC;AACtC,eAAY,EAAG,CAAC,CAAC,cAAc,CAAC;AAChC,eAAY,EAAG,CAAC,CAAC,cAAc,CAAC;AAChC,iBAAc,EAAG,CAAC,CAAC,gBAAgB,CAAC;AACpC,gBAAa,EAAG,CAAC,CAAC,eAAe,CAAC;AAClC,kBAAe,EAAG,CAAC,CAAC,cAAc,CAAC;AACnC,UAAO,EAAG,CAAC,CAAC,cAAc,CAAC;GAC3B,CAAA;;AAED,MAAI,CAAC,IAAI,GAAG,UAAU,GAAG,EAAE,KAAK,EAAE;AACjC,OAAI,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC;AAClB,OAAI,GAAG,KAAK,cAAc,EAAE;AAC3B,MAAE,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,iBAAiB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;IACtF,MAAM,IAAI,GAAG,KAAK,aAAa,EAAE;AACjC,MAAE,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,iBAAiB,CAAC,CAAC;IACpE,MAAM,IAAI,GAAG,KAAK,YAAY,EAAE;AAChC,MAAE,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC;IAC5D,MAAM,IAAI,GAAG,KAAK,aAAa,EAAE;AACjC,MAAE,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,CAAC;IAC7C,MAAM,IAAI,GAAG,KAAK,gBAAgB,EAAE;AACpC,MAAE,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;IACpD,MAAM,IAAI,GAAG,KAAK,aAAa,EAAE;AACjC,MAAE,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC,CAAC;IAC3D,MAAM,IAAI,GAAG,KAAK,eAAe,EAAE;AACnC,QAAI,GAAG,CAAC,GAAG,CAAC,gBAAgB,CAAC,KAAK,IAAI,EAAE;AACvC,OAAE,CAAC,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AACpC,OAAE,CAAC,oBAAoB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;KAC9C,MAAM;AACN,OAAE,CAAC,oBAAoB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AACrC,OAAE,CAAC,oBAAoB,CAAC,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;KAC/C;IACD;GACD,CAAA;;AAGD,MAAI,CAAC,WAAW,GAAG,UAAU,QAAQ,EAAE;AACtC,OAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC;AACnC,UAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;AACzB,UAAO,CAAC,MAAM,CAAC,UAAS,GAAG,EAAE;AAC1B,QAAI,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,KAAK,EAAE,EAAE;AACzB,SAAI,QAAQ,EAAE;AACb,cAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;MACxB;KACD;IACH,CAAC,CAAC;AACH,UAAO,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;GAC5B,CAAA;;AAED,MAAI,CAAC,SAAS,GAAG,UAAU,QAAQ,EAAE;AACpC,OAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC;AAClC,UAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;AACzB,UAAO,CAAC,MAAM,CAAC,UAAS,GAAG,EAAE;AAC1B,QAAI,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,KAAK,EAAE,EAAE;AACzB,SAAI,QAAQ,EAAE;AACb,cAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;MACxB;KACD;IACH,CAAC,CAAC;AACH,UAAO,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;GAC5B,CAAA;;AAED,MAAI,CAAC,iBAAiB,GAAG,UAAU,OAAO,EAAE,QAAQ,EAAE;AACrD,UAAO,CAAC,KAAK,CAAC,YAAW;AACxB,QAAI,CAAC,WAAW,CAAC,UAAS,IAAI,EAAE;AAC/B,QAAG,CAAC,IAAI,CAAC,IAAI,EAAE,UAAS,OAAO,EAAE;AAChC,UAAI,QAAQ,EAAE;AACb,eAAQ,CAAC,OAAO,CAAC,CAAC;OAClB;MACD,CAAC,CAAC;KACH,CAAC,CAAC;IACH,CAAC,CAAC;GACH,CAAA;;AAED,MAAI,CAAC,oBAAoB,GAAG,UAAU,OAAO,EAAE,QAAQ,EAAE;AACxD,UAAO,CAAC,KAAK,CAAC,YAAW;AACxB,OAAG,CAAC,OAAO,CAAC,OAAO,CAAC,UAAS,OAAO,EAAE;AACrC,SAAI,QAAQ,EAAE;AACb,cAAQ,CAAC,OAAO,CAAC,CAAC;MAClB;KACD,CAAC,CAAA;IACF,CAAC,CAAC;GACH,CAAA;;AAED,MAAI,CAAC,gBAAgB,GAAG,UAAU,OAAO,EAAE,QAAQ,EAAE;AACpD,UAAO,CAAC,KAAK,CAAC,YAAW;AACxB,QAAI,CAAC,SAAS,CAAC,UAAS,IAAI,EAAE;AAC7B,SAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACvB,SAAI,IAAI,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;AACtB,SAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACtB,QAAG,OAAI,CAAC,IAAI,EAAE,IAAI,EAAE,UAAS,OAAO,EAAE;AACrC,UAAI,QAAQ,EAAE;AACb,eAAQ,CAAC,OAAO,CAAC,CAAC;OAClB;MACD,CAAC,CAAC;KACH,CAAC,CAAC;IACH,CAAC,CAAC;GACH,CAAA;;AAED,MAAI,CAAC,oBAAoB,GAAG,UAAU,OAAO,EAAE;AAC9C,UAAO,CAAC,KAAK,CAAC,YAAW;AACxB,QAAI,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;AACzC,OAAG,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;IAC5B,CAAC,CAAC;GACH,CAAA;;AAED,MAAI,CAAC,mBAAmB,GAAG,UAAU,OAAO,EAAE;AAC7C,UAAO,CAAC,KAAK,CAAC,YAAW;AACxB,QAAI,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;AACzC,OAAG,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IAC3B,CAAC,CAAC;GACH,CAAA;;AAED,MAAI,CAAC,mBAAmB,GAAG,UAAU,OAAO,EAAE;AAC7C,OAAI,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC;AAClB,OAAI,kBAAkB,GAAG,SAArB,kBAAkB,CAAY,IAAI,EAAE;AACvC,QAAI,KAAK,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC/B,WAAO,KAAK,CAAC;IACb,CAAA;AACD,UAAO,CAAC,KAAK,CAAC,YAAW;AACxB,QAAI,UAAU,GAAG,EAAE,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;AACtC,QAAI,aAAa,GAAG,GAAG,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;AAC1C,QAAI,OAAO,GAAG,KAAK,CAAC;AACpB,QAAI,kBAAkB,CAAC,UAAU,CAAC,KAAK,IAAI,IAAI,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;AACjF,SAAI,UAAU,KAAK,aAAa,EAAE;AACjC,SAAG,CAAC,GAAG,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC;AAClC,SAAG,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;MACvB;KACD,MAAM;AACN,OAAE,CAAC,WAAW,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;AAClC,YAtJK,KAAK,CAsJJ,aAAa,CAAC,yBAAyB,EAAE,CAAC,CAAC,CAAC;KAClD;IACD,CAAC,CAAC;GACH,CAAA;;AAED,MAAI,CAAC,uBAAuB,GAAG,UAAU,OAAO,EAAE;AACjD,UAAO,CAAC,KAAK,CAAC,YAAW;AACxB,QAAI,CAAC,GAAG,CAAC,GAAG,CAAC,mBAAmB,CAAC,EAAE,QAAQ,CAAC,CAAC;IAC7C,CAAC,CAAC;GACH,CAAA;;AAED,MAAI,CAAC,yBAAyB,GAAG,UAAU,OAAO,EAAE;AACnD,OAAI,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC;AAClB,UAAO,CAAC,KAAK,CAAC,UAAS,KAAK,EAAE;AAC7B,QAAI,OAAO,CAAC,GAAG,EAAE,KAAK,MAAM,EAAE;AAC7B,YAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AACrB,QAAG,CAAC,GAAG,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;KACjC,MAAM;AACN,YAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AACpB,QAAG,CAAC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC;KAChC;IACD,CAAC,CAAC;GACH,CAAA;;AAED,MAAI,CAAC,yBAAyB,GAAG,UAAU,OAAO,EAAE;AACnD,OAAI,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC;AAClB,UAAO,CAAC,KAAK,CAAC,YAAW;AACxB,QAAI,CAAC,WAAW,CAAC,UAAS,IAAI,EAAE;AAC/B,OAAE,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC3B,QAAG,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;KAC7B,CAAC,CAAC;IACH,CAAC,CAAC;GACH,CAAA;;AAED,MAAI,CAAC,oBAAoB,GAAG,UAAU,OAAO,EAAE;AAC9C,UAAO,CAAC,KAAK,CAAC,YAAW;AACxB,OAAG,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;IACvB,CAAC,CAAC;GACH,CAAA;;AAED,MAAI,CAAC,gBAAgB,GAAG,UAAU,OAAO,EAAE,EAAE,CAAA;;AAE7C,MAAI,CAAC,2BAA2B,GAAG,UAAU,OAAO,EAAE,EAAE,CAAA;;AAExD,MAAI,CAAC,mBAAmB,GAAG,YAAY,EAAE,CAAA;;AAEzC,MAAI,CAAC,QAAQ,GAAG,YAAY;AAC3B,OAAI,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC;AAClB,OAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC;AACxC,OAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC;AACtC,OAAI,CAAC,oBAAoB,CAAC,EAAE,CAAC,eAAe,CAAC,CAAC;AAC9C,OAAI,CAAC,mBAAmB,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;AACrC,OAAI,CAAC,oBAAoB,CAAC,EAAE,CAAC,eAAe,CAAC,CAAC;AAC9C,OAAI,CAAC,mBAAmB,CAAC,EAAE,CAAC,cAAc,CAAC,CAAC;AAC5C,OAAI,CAAC,uBAAuB,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC;AAC9C,OAAI,CAAC,yBAAyB,CAAC,EAAE,CAAC,oBAAoB,CAAC,CAAC;AACxD,OAAI,CAAC,yBAAyB,CAAC,EAAE,CAAC,cAAc,CAAC,CAAC;AAClD,OAAI,CAAC,oBAAoB,CAAC,EAAE,CAAC,eAAe,CAAC,CAAC;GAC9C,CAAA;;AAED,MAAI,CAAC,OAAO,GAAG,YAAY;AAC1B,OAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;AACxB,OAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;AACzB,OAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;AAC5B,OAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;AACzB,OAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;GAC3B,CAAA;;AAED,MAAI,CAAC,KAAK,GAAG,YAAY;AACxB,OAAI,CAAC,QAAQ,EAAE,CAAC;AAChB,OAAI,CAAC,OAAO,EAAE,CAAC;;AAEf,MAAG,CAAC,EAAE,CAAC,MAAM,EAAE,YAAY;AAC1B,QAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AAC1B,QAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;AACzB,OAAG,CAAC,OAAO,CAAC,EAAE,CAAC,KAAK,EAAE,YAAW;AAChC,SAAI,CAAC,OAAO,EAAE,CAAC;KACf,CAAC,CAAC;IACH,CAAC,CAAC;AACH,MAAG,CAAC,EAAE,CAAC,KAAK,EAAE,YAAY;AACzB,QAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AAC1B,QAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;AACzB,OAAG,CAAC,OAAO,CAAC,EAAE,CAAC,KAAK,EAAE,YAAW;AAChC,SAAI,CAAC,OAAO,EAAE,CAAC;KACf,CAAC,CAAC;IACH,CAAC,CAAC;AACH,MAAG,CAAC,EAAE,CAAC,KAAK,EAAE,YAAY;AACzB,QAAI,CAAC,OAAO,EAAE,CAAC;IACf,CAAC,CAAC;AACH,MAAG,CAAC,EAAE,CAAC,MAAM,EAAE,YAAY;AAC1B,OAAG,CAAC,OAAO,CAAC,EAAE,CAAC,KAAK,EAAE,YAAW;AAChC,SAAI,CAAC,OAAO,EAAE,CAAC;KACf,CAAC,CAAC;IACH,CAAC,CAAC;;AAEH,OAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;GAClB,CAAA;;AAGD,MAAI,CAAC,MAAM,GAAG,UAAU,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE;AAC7C,OAAI,MAAM,GAAG;AACZ,QAAI,EAAE,OAAO;IACb,CAAA;;AAED,OAAI,IAAI,KAAK,SAAS,EAAE;AACvB,UAAM,CAAC,IAAI,GAAG,SAAS,GAAG,GAAG,CAAC,IAAI,GAAG,kBAAkB,CAAC;IACxD,MAAM,IAAI,IAAI,KAAK,SAAS,EAAE;AAC9B,UAAM,CAAC,IAAI,GAAG,SAAS,GAAG,GAAG,CAAC,IAAI,GAAG,kBAAkB,CAAC;IACxD;;AAED,OAAI,aAAa,GAAG,IAAI,YAAY,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;GACpD,CAAA;;AAED,MAAI,CAAC,KAAK,EAAE,CAAC;EAEb,CAAA;;;AAED,KAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,YAAY,CAAC,CAAC","file":"modules/ui.js","sourcesContent":["const EventEmitter = require('events');\nconst util = require('util');\nvar open = require(\"open\");\n\nimport { utils } from './utils';\n\nexport var Ui = function() {\n\t\n\tvar self = this;\n\tvar $ = global.$;\n\tvar app = global.app;\n\n\tself._el = {\n\t\t$projectTitle : $('#projectTitle'),\n\t\t$projectPath : $('#projectPath'),\n\t\t$openProject : $('#openProject'),\n\t\t$newProject : $('#newProject'),\n\t\t$openProjectFolder : $('#openProjectFolder'),\n\t\t$publishProject : $('#publishProject'),\n\t\t$serverPort : $('#serverPort'),\n\t\t$restartServer : $('#restartServer'),\n\t\t$cascadeVersion : $('#cascadeVersion'),\n\t\t$cascadePath : $('#cascadePath'),\n\t\t$chooseCascade : $('#chooseCascade'),\n\t\t$toggleCustomCascade : $('#toggleCustomCascade'),\n\t\t$restartCascade : $('#restartCascade'),\n\t\t$pluginsPath : $('#pluginsPath'),\n\t\t$showPlugins : $('#showPlugins'),\n\t\t$openDirectory : $('#openDirectory'),\n\t\t$newDirectory : $('#newDirectory'),\n\t\t$previewProject : $('.app-preview'),\n\t\t$openIn : $('.app-open-in')\n\t}\n\n\tself._set = function (key, value) {\n\t\tvar el = self._el;\n\t\tif (key === 'projectTitle') {\n\t\t\tel.$projectTitle.html(app.cascade.get('settings').currentProjectDir.split('/').pop());\n\t\t} else if (key === 'projectPath') {\n\t\t\tel.$projectPath.html(app.cascade.get('settings').currentProjectDir);\n\t\t} else if (key === 'serverPort') {\n\t\t\tel.$serverPort.attr('value', app.cascade.get('serverPort'));\n\t\t} else if (key === 'cascadePath') {\n\t\t\tel.$cascadePath.html(app.get('altGulpPath'));\n\t\t} else if (key === 'cascadeVersion') {\n\t\t\tel.$cascadeVersion.html(app.cascade.get('version'));\n\t\t} else if (key === 'pluginsPath') {\n\t\t\tel.$pluginsPath.html(app.cascade.get('userPluginsFolder'));\n\t\t} else if (key === 'customCascade') {\n\t\t\tif (app.get('useAltGulpPath') === true) {\n\t\t\t\tel.$toggleCustomCascade.val(\"true\");\n\t\t\t\tel.$toggleCustomCascade.attr(\"checked\", true);\n\t\t\t} else {\n\t\t\t\tel.$toggleCustomCascade.val(\"false\");\n\t\t\t\tel.$toggleCustomCascade.attr(\"checked\", false);\n\t\t\t}\n\t\t}\n\t}\n\n\n\tself._fileSelect = function (callback) {\n\t\tvar chooser = self._el.$openDirectory;\n\t    chooser.unbind('change');\n\t    chooser.change(function(evt) {\n\t      \tif ($(this).val() !== \"\") {\n      \t\t\tif (callback) {\n      \t\t\t\tcallback($(this).val());\n      \t\t\t}\n\t      \t}\n\t    });\n\t    chooser.trigger('click');\n\t}\n\n\tself._fileSave = function (callback) {\n\t\tvar chooser = self._el.$newDirectory;\n\t    chooser.unbind('change');\n\t    chooser.change(function(evt) {\n\t      \tif ($(this).val() !== \"\") {\n      \t\t\tif (callback) {\n      \t\t\t\tcallback($(this).val());\n      \t\t\t}\n\t      \t}\n\t    });\n\t    chooser.trigger('click');\n\t}\n\n\tself._bind_projectOpen = function (element, callback) {\n\t\telement.click(function() {\n\t\t\tself._fileSelect(function(path) {\n\t\t\t\tapp.open(path, function(success) {\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback(success);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\tself._bind_projectPublish = function (element, callback) {\n\t\telement.click(function() {\n\t\t\tapp.project.publish(function(success) {\n\t\t\t\tif (callback) {\n\t\t\t\t\tcallback(success);\n\t\t\t\t}\n\t\t\t})\n\t\t});\n\t}\n\n\tself._bind_projectNew = function (element, callback) {\n\t\telement.click(function() {\n\t\t\tself._fileSave(function(path) {\n\t\t\t\tpath = path.split('/');\n\t\t\t\tvar name = path.pop();\n\t\t\t\tpath = path.join('/');\n\t\t\t\tapp.new(path, name, function(success) {\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback(success);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\tself._bind_projectPreview = function (element) {\n\t\telement.click(function() {\n\t\t\tvar target = $(this).attr('data-target');\n\t\t\tapp.project.preview(target);\n\t\t});\n\t}\n\n\tself._bind_projectOpenIn = function (element) {\n\t\telement.click(function() {\n\t\t\tvar target = $(this).attr('data-target');\n\t\t\tapp.project.viewIn(target);\n\t\t});\n\t}\n\n\tself._bind_serverRestart = function (element) {\n\t\tvar el = self._el;\n\t\tvar validateServerPort = function(port) {\n\t\t\tvar isnum = /^\\d+$/.test(port);\n\t\t\treturn isnum;\n\t\t}\n\t\telement.click(function() {\n\t\t\tvar serverPort = el.$serverPort.val();\n\t\t\tvar oldServerPort = app.get('serverPort');\n\t\t\tvar changed = false;\n\t\t\tif (validateServerPort(serverPort) === true && serverPort.split(\"\").length === 4) {\n\t\t\t\tif (serverPort !== oldServerPort) {\n\t\t\t\t\tapp.set('serverPort', serverPort);\n\t\t\t\t\tapp.restart('cascade');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tel.$serverPort.val(oldServerPort);\n\t\t\t\tutils.handleMessage(\"Not a valid server port\", 0);\n\t\t\t}\n\t\t});\n\t}\n\n\tself._bind_pluginsShowFolder = function (element) {\n\t\telement.click(function() {\n\t\t\topen(app.get('userPluginsFolder'), 'finder');\n\t\t});\n\t}\n\n\tself._bind_cascadeToggleCustom = function (element) {\n\t\tvar el = self._el;\n\t\telement.click(function(event) {\n\t\t\tif (element.val() === \"true\") {\n\t\t\t\telement.val(\"false\");\n\t\t\t\tapp.set(\"useAltGulpPath\", false);\n\t\t\t} else {\n\t\t\t\telement.val(\"true\");\n\t\t\t\tapp.set(\"useAltGulpPath\", true);\n\t\t\t}\n\t\t});\n\t}\n\n\tself._bind_cascadeChooseCustom = function (element) {\n\t\tvar el = self._el;\n\t\telement.click(function() {\n\t\t\tself._fileSelect(function(path) {\n\t\t\t\tel.$cascadePath.html(path);\n\t\t\t\tapp.set(\"altGulpPath\", path);\n\t\t\t});\n\t\t});\n\t}\n\n\tself._bind_cascadeRestart = function (element) {\n\t\telement.click(function() {\n\t\t\tapp.restart('cascade');\n\t\t});\n\t}\n\n\tself._bind_toggleMenu = function (element) {}\n\n\tself._bind_clickOutsideCloseMenu = function (element) {}\n\n\tself._create_nativeMenus = function () {}\n\n\tself._bindAll = function () {\n\t\tvar el = self._el;\n\t\tself._bind_projectOpen(el.$openProject);\n\t\tself._bind_projectNew(el.$newProject);\n\t\tself._bind_projectPreview(el.$previewProject);\n\t\tself._bind_projectOpenIn(el.$openIn);\n\t\tself._bind_projectPublish(el.$publishProject);\n\t\tself._bind_serverRestart(el.$restartServer);\n\t\tself._bind_pluginsShowFolder(el.$showPlugins);\n\t\tself._bind_cascadeToggleCustom(el.$toggleCustomCascade);\n\t\tself._bind_cascadeChooseCustom(el.$chooseCascade);\n\t\tself._bind_cascadeRestart(el.$restartCascade);\n\t}\n\n\tself._setAll = function () {\n\t\tself._set('serverPort');\n\t\tself._set('cascadePath');\n\t\tself._set('cascadeVersion');\n\t\tself._set('pluginsPath');\n\t\tself._set('customCascade');\n\t}\n\n\tself._init = function () {\n\t\tself._bindAll();\n\t\tself._setAll();\n\n\t\tapp.on('open', function () {\n\t\t\tself._set('projectTitle');\n\t\t\tself._set('projectPath');\n\t\t\tapp.project.on('set', function() {\n\t\t\t\tself._setAll();\n\t\t\t});\n\t\t});\n\t\tapp.on('new', function () {\n\t\t\tself._set('projectTitle');\n\t\t\tself._set('projectPath');\n\t\t\tapp.project.on('set', function() {\n\t\t\t\tself._setAll();\n\t\t\t});\n\t\t});\n\t\tapp.on('set', function () {\n\t\t\tself._setAll();\n\t\t});\n\t\tapp.on('init', function () {\n\t\t\tapp.cascade.on('set', function() {\n\t\t\t\tself._setAll();\n\t\t\t});\n\t\t});\n\n\t\tself.emit('init');\n\t}\n\n\n\tself.notify = function (title, message, type) {\n\t\tvar config = {\n\t\t\tbody: message\n\t\t}\n\t\t\n\t\tif (type === \"success\") {\n\t\t\tconfig.icon = 'file://' + app.path + '/assets/logo.png';\n\t\t} else if (type === \"failure\") {\n\t\t\tconfig.icon = 'file://' + app.path + '/assets/logo.png';\n\t\t}\n\n\t\tvar notificaation = new Notification(title, config);\n\t}\n\n\tself._init();\n\n}\n\nutil.inherits(Ui, EventEmitter);"],"sourceRoot":"/source/"}